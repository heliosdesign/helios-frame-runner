var heliosFrameRunner=function(){!function(){for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}();var debug=!1,log=function(msg){debug&&console.log(msg)},running=!1,startRafLoop=function(){running||(running=!0,requestAnimationFrame(raf),log("[frameRunner] start RAF Loop"))},stopRafLoop=function(){running&&(running=!1,cancelAnimationFrame(raf),log("[frameRunner] stop RAF Loop"))},everyFrame={},everySecond={},add=function(name,to,func){if(!name||!to||!func)throw new Error("missing argument");if("function"!=typeof func)throw new Error("not a valid function");var arr="everyFrame"===to?everyFrame:everySecond;if(arr[name])throw new Error("function exists");return log('[frameRunner] adding "'+name+'" to '+to),arr[name]=func,function(){remove(name,to)}},remove=function(name,from){var arr;"undefined"==typeof from?(everyFrame[name]&&(log('[frameRunner] removing "'+name+'" from everyFrame'),delete everyFrame[name]),everySecond[name]&&(log('[frameRunner] removing "'+name+'" from everySecond'),delete everySecond[name])):(arr="everyFrame"===from?everyFrame:everySecond,arr[name]&&(log('[frameRunner] removing "'+name+'" from '+from),delete arr[name]))},frameCount=0,getFrameCount=function(){return frameCount},counter=0,raf=function(){requestAnimationFrame(raf),frameCount+=1,counter++,counter>60&&(counter=0);for(var func in everyFrame)everyFrame.hasOwnProperty(func)&&everyFrame[func]();if(0===counter)for(var func in everySecond)everySecond.hasOwnProperty(func)&&everySecond[func]()};return{start:startRafLoop,stop:stopRafLoop,add:add,remove:remove,debug:debug,frameCount:getFrameCount}};